{"version":3,"sources":["App.js","index.js"],"names":["copyToClipboard","elem","select","setSelectionRange","document","execCommand","Identity","props","lenRSAOptions","genPrv","React","createRef","genPub","state","lenRSA","rsa","generateNewIdentity","bind","this","setState","setTimeout","NodeRSA","b","id","className","value","exportKey","placeholder","readOnly","ref","onClick","current","disabled","map","i","key","Component","Encryption","encMsg","encPub","encRes","result","processInfo","onChange","res","msg","pub","encrypt","e","String","Decryption","decMsg","decPub","decRes","prv","decrypt","App","setDialog","jsx","dialog","classes","body","split","filter","c","length","darkIndex","indexOf","push","splice","console","log","join","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.924cf5e9.chunk.js","sourcesContent":["import React from 'react';\nimport NodeRSA from 'node-rsa';\nimport './App.scss';\n\n\nconst copyToClipboard = elem => {\n  elem.select();\n  elem.setSelectionRange(0, 99999);\n  return document.execCommand('copy');\n};\n\nconst encrypt = (msg, pub) => {\n  const rsa = new NodeRSA(pub);\n  return rsa.encrypt(msg, 'base64');\n};\n\nconst decrypt = (msg, prv) => {\n  const rsa = new NodeRSA(prv);\n  return rsa.decrypt(msg, 'utf-8');\n};\n\nclass Identity extends React.Component {\n  lenRSAOptions = [512, 1024, 2048, 4096];\n  genPrv = React.createRef();\n  genPub = React.createRef();\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      lenRSA: 1024,\n      rsa: null\n    };\n    this.generateNewIdentity = this.generateNewIdentity.bind(this);\n  }\n\n  generateNewIdentity() {\n    this.setState({ rsa: null });\n    setTimeout(() => this.setState({ rsa: new NodeRSA({ b: this.state.lenRSA }) }), 500);\n  }\n\n  componentDidMount() {\n    this.generateNewIdentity();\n  }\n\n  render() {\n    return <div>\n      <h1>Generate</h1>\n      {this.state.rsa === null && <div id='generating'>\n        <div>Generating {this.state.lenRSA}-bit RSA keypair <span>( )</span></div>\n      </div>}\n      <div className={'split compact' +(this.state.rsa === null ? ' hidden' : '')}>\n        <textarea\n          className='ro'\n          value={this.state.rsa ? this.state.rsa.exportKey('pkcs8-private') : ''}\n          placeholder='Private key'\n          readOnly\n          ref={this.genPrv}\n          onClick={() => copyToClipboard(this.genPrv.current)}\n        ></textarea>\n        <textarea\n          className='ro'\n          value={this.state.rsa ? this.state.rsa.exportKey('pkcs8-public') : ''}\n          placeholder='Public key'\n          readOnly\n          ref={this.genPub}\n          onClick={() => copyToClipboard(this.genPub.current)}\n        ></textarea>\n      </div>\n      <div className='sep'>\n        <div className='sep2 inline'>\n          <button\n            onClick={this.generateNewIdentity}\n            disabled={this.state.rsa === null}\n          >Generate Keypair</button>\n          <div className='sep3 inline'>\n            {this.lenRSAOptions.map(\n              (b, i) => <button\n                key={i}\n                disabled={this.state.rsa === null}\n                className={this.state.lenRSA === b ? 'selected' : ''}\n                onClick={() => this.setState({ lenRSA: b })}\n              >{b}</button>\n            )}\n          </div>\n        </div>\n        <button disabled>Import</button>\n      </div>\n    </div>;\n  }\n}\n\nclass Encryption extends React.Component {\n  encMsg = React.createRef();\n  encPub = React.createRef();\n  encRes = React.createRef();\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      result: '',\n      processInfo: ''\n    };\n  }\n\n  render() {\n    return <>\n      <h1>Encryption</h1>\n      <div className='split two-to-one compact'>\n        <textarea\n          ref={this.encMsg}\n          className='top-left'\n          placeholder='Message'\n          onChange={() => this.setState({ result: '' })}\n        />\n        <textarea\n          ref={this.encPub}\n          className='bottom-left'\n          placeholder=\"Recipient's public key\"\n          onChange={() => this.setState({ result: '' })}\n        />\n        <textarea\n          className='ro right'\n          value={this.state.result}\n          placeholder='Encrypted message'\n          readOnly\n          ref={this.encRes}\n          onClick={() => copyToClipboard(this.encRes.current)}\n        />\n      </div>\n      <div>\n        <button\n          onClick={() => {\n            this.setState({ processInfo: 'encrypting...' });\n            try {\n              const res = encrypt(this.encMsg.current.value, this.encPub.current.value);\n              this.setState({ result: res, processInfo: '' });\n            } catch(e) {\n              this.setState({ processInfo: String(e) });\n            }\n          }}\n        >Encrypt</button>\n        <i>{this.state.processInfo}</i>\n      </div>\n    </>;\n  }\n}\n\nclass Decryption extends React.Component {\n  decMsg = React.createRef();\n  decPub = React.createRef();\n  decRes = React.createRef();\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      result: '',\n      processInfo: ''\n    };\n  }\n\n  render() {\n    return <>\n      <h1>Decryption</h1>\n      <div className='split two-to-one compact'>\n        <textarea\n          className='top-left'\n          ref={this.decMsg}\n          placeholder='Encrypted message'\n          onChange={() => this.setState({ result: '' })}\n        />\n        <textarea\n          className='bottom-left'\n          ref={this.decPub}\n          placeholder='Private key'\n          onChange={() => this.setState({ result: '' })}\n        />\n        <textarea\n          className='ro right'\n          value={this.state.result}\n          placeholder='Original message'\n          readOnly\n          ref={this.decRes}\n          onClick={() => copyToClipboard(this.decRes.current)}\n        />\n      </div>\n      <div className='sep2'>\n        <button\n          onClick={() => {\n            this.setState({ processInfo: 'decrypting...' });\n            try {\n              const res = decrypt(this.decMsg.current.value, this.decPub.current.value);\n              this.setState({ result: res, processInfo: '' });\n            } catch(e) {\n              this.setState({ processInfo: String(e) });\n            }\n          }}\n        >Decrypt</button>\n        <i>{this.state.processInfo}</i>\n      </div>\n    </>;\n  }\n}\n\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.setDialog = this.setDialog.bind(this);\n  }\n\n  setDialog(jsx) {\n    this.setState({ dialog: jsx });\n  }\n\n  render() {\n    return <>\n      <div className='text-align-right'>\n        <button\n          onClick={() => {\n            const className = 'dark-theme';\n            const classes = document.body.className.split(' ').filter(c => c.length !== 0);\n            const darkIndex = classes.indexOf(className);\n            if (darkIndex === -1) {\n              classes.push(className);\n            } else {\n              classes.splice(darkIndex, 1);\n            }\n            console.log(classes.join(' '));\n            document.body.className = classes.join(' ');\n          }}\n        >Dark-Theme</button>\n      </div>\n      <Identity />\n      <Encryption />\n      <Decryption />\n      {this.state.dialog && <div id='dialog'>{this.state.dialog}</div>}\n    </>;\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('app'));\n"],"sourceRoot":""}